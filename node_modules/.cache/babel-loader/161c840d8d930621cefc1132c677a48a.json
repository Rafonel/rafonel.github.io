{"ast":null,"code":"import React from\"react\";import Sketch from'react-p5';var triangles=[];var frmRate=30;var section;function TrianglesCanvas(){return React.createElement(Sketch,{setup:function setup(p5,parentRef){var Triangle=function Triangle(){this.side=p5.random(p5.width/10,p5.height/2);this.y1=0;this.y2=0;this.y3=-this.side*1.7;this.x1=-this.side;this.x2=this.side;this.x3=0;// 21 seconds of life\nthis.life=21*30;this.age=0;this.mature=false;this.health=this.life>255?this.life/255:255/this.life;this.rotation=p5.random(0,360);this.time=400;this.speed=1/200;this.timeX=parseInt(p5.random(1,this.time));this.timeY=parseInt(p5.random(1,this.time));this.timeRotation=parseInt(p5.random(1,this.time));this.locX=p5.random(1,p5.width);this.locY=p5.random(1,p5.height);this.WW=p5.width;this.WH=p5.height;this.update=function(){this.y1+=1/100;this.y2+=1/100;this.y3-=1/100;this.x1-=1/100;this.x2+=1/100;this.age+=1;if(this.mature===false){this.alfa=this.age*this.health;}else{this.alfa-=this.health*5;}if(this.age>=this.life/1.5){this.mature=true;}if(this.timeRotation===this.time/2){this.timeRotation=parseInt(p5.random(1,this.time));}if(this.timeY===this.time/2){this.timeY=parseInt(p5.random(1,this.time));}if(this.timeX===this.time/2){this.timeX=parseInt(p5.random(1,this.time));}if(this.timeX>this.time/2){if(this.locX>this.side){this.timeX-=1;this.locX-=this.speed;}else{this.timeX=parseInt(p5.random(1,this.time/2));}}else{if(this.locX<this.WH-this.side){this.timeX+=1;this.locX+=this.speed;}else{this.timeX=parseInt(p5.random(this.time/2,this.time));}}if(this.timeY>this.time/2){if(this.locY>this.side){this.timeY-=1;this.locY-=this.speed;}else{this.timeY=parseInt(p5.random(1,this.time/2));}}else{if(this.locY<this.WH-this.side){this.timeY+=1;this.locY+=this.speed;}else{this.timeY=parseInt(p5.random(this.time/2,this.time));}}if(this.timeRotation>this.time/2){this.timeRotation-=1;this.rotation-=this.speed;}else{this.timeRotation+=1;this.rotation+=this.speed;}};this.show=function(){p5.push();p5.noFill();p5.stroke(0,255,0,this.alfa);p5.smooth();p5.translate(this.locX,this.locY);p5.rotate(this.rotation);p5.triangle(this.x1,this.y1,this.x2,this.y2,this.x3,this.y3);p5.pop();};this.isAlive=function(){if(this.age>1000){return false;}else{return true;}};};p5.frameRate(frmRate);section=p5.select('#secPerfil');var canvas=p5.createCanvas(section.size().width,section.size().height);canvas.parent('secPerfil');setTimeout(CreateTriangle,1500);setInterval(function(){if(triangles.length<6)CreateTriangle();// console.log(triangles)\n// console.log(CountAliveTriangles());\n},10000);function CreateTriangle(){var star=new Triangle();triangles.push(star);}// p5.createCanvas(200, 200).parent(parentRef);\n},draw:function draw(p5){p5.clear();for(var i=triangles.length-1;i>=0;i--){if(triangles[i].isAlive()){triangles[i].update();triangles[i].show();}else{triangles.splice(i,1);}}}});}export default TrianglesCanvas;","map":{"version":3,"sources":["D:/-- Profissional/-- Projects/rafonel.github.io/src/components/canvas/index.js"],"names":["React","Sketch","triangles","frmRate","section","TrianglesCanvas","p5","parentRef","Triangle","side","random","width","height","y1","y2","y3","x1","x2","x3","life","age","mature","health","rotation","time","speed","timeX","parseInt","timeY","timeRotation","locX","locY","WW","WH","update","alfa","show","push","noFill","stroke","smooth","translate","rotate","triangle","pop","isAlive","frameRate","select","canvas","createCanvas","size","parent","setTimeout","CreateTriangle","setInterval","length","star","clear","i","splice"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Sketch from 'react-p5';\r\n\r\nlet triangles = [];\r\nlet frmRate = 30;\r\nlet section;\r\n\r\nfunction TrianglesCanvas (){\r\n    return(\r\n        <Sketch\r\n            setup={(p5, parentRef) => {\r\n                const Triangle = function(){\r\n                    this.side = p5.random(p5.width/10, p5.height/2);\r\n                    this.y1 = 0;\r\n                    this.y2 = 0;\r\n                    this.y3 = -this.side*1.7;\r\n                    this.x1 = -this.side;\r\n                    this.x2 = this.side;\r\n                    this.x3 = 0;\r\n                \r\n                    // 21 seconds of life\r\n                    this.life = 21 * 30;\r\n                    this.age = 0;\r\n                    this.mature = false;\r\n                    this.health = (this.life > 255 ? this.life/ 255 : 255/this.life)\r\n                    this.rotation = p5.random(0,360);\r\n                    this.time = 400;\r\n                    this.speed = 1/200;\r\n                \r\n                    this.timeX = parseInt(p5.random(1,this.time));\r\n                    this.timeY = parseInt(p5.random(1,this.time));\r\n                    this.timeRotation = parseInt(p5.random(1,this.time));\r\n                    this.locX = p5.random(1,p5.width);\r\n                    this.locY = p5.random(1,p5.height);\r\n                    this.WW = p5.width;\r\n                    this.WH = p5.height;\r\n                \r\n                    this.update = function(){\r\n                        this.y1 += 1/100;\r\n                        this.y2 += 1/100;\r\n                        this.y3 -= 1/100;\r\n                        this.x1 -= 1/100;\r\n                        this.x2 += 1/100;\r\n                        \r\n                        this.age += 1;\r\n                        if(this.mature === false){\r\n                                this.alfa = this.age * this.health;\r\n                        }else{\r\n                                this.alfa -= this.health*5;\r\n                        }\r\n                        if(this.age >= this.life/1.5){\r\n                                this.mature = true;\r\n                        }\r\n            \r\n                        if(this.timeRotation === this.time/2){ this.timeRotation = parseInt(p5.random(1,this.time)) }\r\n                        if(this.timeY === this.time/2){this.timeY = parseInt(p5.random(1,this.time));}\r\n                        if(this.timeX === this.time/2){this.timeX = parseInt(p5.random(1,this.time));}\r\n            \r\n            \r\n                        if(this.timeX > this.time/2){\r\n                                if(this.locX > this.side){\r\n                                        this.timeX -= 1;\r\n                                        this.locX -= this.speed;\r\n                                }else{\r\n                                        this.timeX = parseInt(p5.random(1,this.time/2));\r\n                                }\r\n                        }else{\r\n                                if(this.locX < this.WH - this.side){\r\n                                        this.timeX += 1;\r\n                                        this.locX += this.speed;\r\n                                }else{\r\n                                        this.timeX = parseInt(p5.random(this.time/2,this.time));\r\n                                }\r\n                        }        \r\n                        \r\n                        if(this.timeY > this.time/2){\r\n                                if(this.locY > this.side){\r\n                                        this.timeY -= 1;\r\n                                        this.locY -= this.speed;\r\n                                }else{\r\n                                        this.timeY = parseInt(p5.random(1,this.time/2));\r\n                                }\r\n                        }else{\r\n                                if(this.locY < this.WH - this.side){\r\n                                        this.timeY += 1;\r\n                                        this.locY += this.speed;\r\n                                }else{\r\n                                        this.timeY = parseInt(p5.random(this.time/2,this.time));\r\n                                }\r\n                        }\r\n                        if(this.timeRotation > this.time/2){\r\n                                this.timeRotation -= 1;\r\n                                this.rotation -= this.speed;\r\n                        }else{\r\n                                this.timeRotation += 1;\r\n                                this.rotation += this.speed;\r\n                        }\r\n                    }\r\n                    this.show = function(){\r\n                        p5.push();\r\n                        p5.noFill();\r\n                        p5.stroke(0,255,0,this.alfa);\r\n                        p5.smooth();\r\n\r\n                        p5.translate(this.locX,this.locY);\r\n                        p5.rotate(this.rotation);\r\n                        p5.triangle(this.x1,this.y1,this.x2,this.y2,this.x3,this.y3);\r\n                        p5.pop();\r\n                    }\r\n                    this.isAlive = function(){\r\n                        if(this.age > 1000){return false}\r\n                        else{return true}\r\n                    }\r\n                }\r\n                p5.frameRate(frmRate);\r\n                section = p5.select('#secPerfil')\r\n                const canvas = p5.createCanvas(section.size().width,section.size().height);\r\n                canvas.parent('secPerfil');\r\n                setTimeout(CreateTriangle,1500)\r\n                setInterval(function(){\r\n                    if(triangles.length < 6)\r\n                    CreateTriangle();\r\n                    // console.log(triangles)\r\n                    // console.log(CountAliveTriangles());\r\n                    },10000);\r\n                    \r\n                function CreateTriangle(){\r\n                    let star = new Triangle();\r\n                    triangles.push(star);\r\n                }\r\n\r\n                    // p5.createCanvas(200, 200).parent(parentRef);\r\n                }\r\n            }\r\n            draw={p5 => {\r\n                p5.clear();\r\n                for (var i = triangles.length - 1; i >= 0; i--) {\r\n                    if(triangles[i].isAlive()){\r\n                        triangles[i].update();\r\n                        triangles[i].show();\r\n                    }else{\r\n                        triangles.splice(i,1);\r\n                    }\r\n                }\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default TrianglesCanvas;"]},"metadata":{},"sourceType":"module"}